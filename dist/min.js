const pokemonRepository=function(){let f=[],a=document.getElementById('pokemon-search');function b(a){f.push(a)}function c(){return f}function d(a){let b=a.detailsUrl;return fetch(b).then(a=>a.json()).then(b=>{a.imageUrlFront=b.sprites.front_default,a.imageUrlBack=b.sprites.back_default,a.height=b.height,a.types=b.types.map(a=>a.type.name).join(','),a.abilities=b.abilities.map(a=>a.ability.name).join(','),a.weight=b.weight}).catch(a=>{!function(b){let a=document.querySelector('.loading-message');b?a.classList.add('hidden'):a.classList.remove('hidden')}(!0),console.error(a)})}function e(a){d(a).then(()=>{g(a)})}function g(a){console.log('here'),$('#pokemon-modal .modal-title').text(a.name),$('#pokemon-modal .modal-img.front').attr('src',a.imageUrlFront),$('#pokemon-modal .modal-img.back').attr('src',a.imageUrlBack),$('#pokemon-modal .height').text(`height : ${a.height}`),$('#pokemon-modal .weight').text(`weight : ${a.weight}`),$('#pokemon-modal .types').text(`types : ${a.types}`)}return a.addEventListener('input',function(){let a=document.getElementById('pokemon-search').value;a=a.toLowerCase();let b=$('li');b.each(function(){let b=$(this),c=b.text();c.includes(a)?b.show():b.hide()})}),{add:b,getAll:c,addListItem:function(c){let b=document.querySelector('.pokemon-list'),d=document.createElement('li');b.classList.add('group-list-item'),b.classList.add('col-sm-4','col-md-6','col-lg-12');let a=document.createElement('button');a.innerText=c.name,a.classList.add('pokemon-button'),a.setAttribute('data-toggle','modal'),a.setAttribute('data-target','#pokemon-modal'),$(a).addClass('button-class btn-block btn m1'),d.appendChild(a),b.appendChild(d),function(a,b){a.addEventListener('click',()=>{e(b)})}(a,c)},loadList:function(){return fetch('https://pokeapi.co/api/v2/pokemon/?limit=150').then(a=>a.json()).then(a=>{a.results.forEach(a=>{let c={name:a.name,detailsUrl:a.url};b(c)})}).catch(a=>{console.error(a)})},loadDetails:d,showDetails:e}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(a=>{pokemonRepository.addListItem(a)})})